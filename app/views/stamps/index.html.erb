<div class="container">
  <h3 class="title">Stamps</h3>

  <%= link_to "Add a new stamp to the catalog", new_stamp_path, class: "btn btn-default pull-right" %>


  <hr>

  <%= form_tag search_stamps_path, method: 'get' do %>
      <div class="input-group">
        <%= text_field_tag :q, params[:q], class: 'form-control', placeholder: 'Search...' %>

        <span class="input-group-btn">
    <button type="button" class="btn btn-default">
      <span class="glyphicon glyphicon-search"></span>
    </button>
  </span>
      </div>

  <% end %>

  <hr>

    <%= @stamps.count.to_s + " stamps found. ".html_safe if params[:q] %>

  <div class="table-responsive">
    <table class="table table-hover">
      <thead>
      <tr>
        <th>Country</th>
        <th>stamp_issue_price</th>
        <th>SG Number</th>
        <th>Navigate</th>
      </tr>
      </thead>

      <tbody>

      <% @stamps.__send__ controller.action_name == 'search' ? :each_with_hit : :each do |stamp, hit| %>
          <tr>
            <td><%= hit.try(:highlight).try(:country_name)   ? hit.highlight.country_name.join.html_safe : stamp.country_name %></td>
            <td><%= hit.try(:highlight).try(:stamp_issue_price)   ? hit.highlight.stamp_issue_price.join.html_safe : stamp.stamp_issue_price %></td>
            <td><%= link_to stamp.sg_number, set_path(stamp) %></td>
            <td>
              <%= link_to 'Edit', edit_stamp_path(stamp), class: 'btn btn-success' %>
            </td>
          </tr>
      <% end %>

      </tbody>
    </table>

    <div class="text-center">
      <%= paginate @stamps %>
    </div>

    <hr>

    <p style="text-align: center; margin-bottom: 21px">
      <%= link_to 'New Stamp', new_stamp_path, class: 'btn btn-primary btn-xs', style: 'color: #fff' %>
      <%= link_to 'All Articles', stamps_path, class: 'btn btn-primary btn-xs', style: 'color: #fff' if params[:q] %>
    </p>

  </div>

</div>